spring:
  application:
    name: pageview-pipeline
  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      auto-offset-reset: earliest
      group-id: pageview-pipeline

pipeline:
  pageviews-topic: pageviews
  aggregates-topic: pageview-aggregates
  late-topic: late-pageview-aggregates
  raw:
    batch-size: 25
    flush-interval-seconds: 30
  aggregate:
    batch-size: 50
    flush-interval-seconds: 60
  late:
    batch-size: 50
    flush-interval-seconds: 60
  stream:
    window-size-seconds: 60
    grace-period-minutes: 5
    threads: 2

management:
  endpoints:
    web:
      exposure:
        include: health,metrics
  endpoint:
    health:
      show-details: when-authorized
      probes:
        enabled: true
  metrics:
    export:
      cloudwatch:
        namespace: PageviewPipeline
        enabled: true
        step: 1m

aws:
  region: eu-west-2
  s3:
    bucket-name: pageview-data